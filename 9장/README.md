# 9장 : 단위 테스트
## 📌 들어가며
지난 10년 동안 우리 분야는 눈부신 성장을 이뤘다.

원래 TDD 아무도 몰랐음. 그래도 여전히 갈 길은 멀다. 제대로 된 테스트 케이스를 작성해야 한다는 좀 더 미묘한 (그리고 더 중요한) 사실을 놓쳐버렸다.

## 📌 TDD 법칙 세 가지

1. 실패하는 단위 테스트를 작성할 때까지 실제 코드를 작성하지 않는다.
2. 컴파일은 실패하지 않으면서 실행이 실패하는 정도로만 단위 테스트를 작성한다.
3. 현재 실패하는 테스트를 통과할 정도로만 실제 코드를 작성한다.

- 위 세 가지 규칙을 따르면
    - 개발과 테스트 코드와 실제 코드가 함께 나올 뿐더러
    - 테스트 코드가 실제 코드보다 불과 몇 초전에 나온다.
    - 실제 코드를 사실상 전부 테스트하는 테스트 케이스가 나온다.
- 하지만 방대한 테스트 코드는 관리 문제 유발 가능

## 📌 깨끗한 테스트 코드 유지하기

- 지저분한 테스트 코드를 작성하는 건 테스트를 안 하는 것보다 못할 수도 있음.
    - 실제 코드가 변화하면 테스트 코드도 변해야 하는데 테스트 코드가 지저분할수록 변경하기 어려움.
    - 테스트 코드가 복잡할수록 실제 코드를 짜는 시간보다 테스트 케이스를 추가하는 시간이 더 걸림.
        - 실제 코드를 변경해 기존 테스트 실패 → 테스트 코드는 계속 늘어남.
    - 새 버전을 출시할 때마다 테스트 코드 유지 / 보수 비용이 늘어남.
        
        → 결국 테스트 코드가 개발자 사이에서 가장 큰 불만으로 자리 잡음.
        
        → 테스트 슈트 폐기 
        
        → 수정한 코드가 제대로 도는지 확인 못함
        
        → 망가진 코드
        
- 테스트 코드를 깨끗하게 짰다면 테스트 코드에 쏟아부은 노력은 허사로 돌아가지 않음.

> 테스트 코드는 실제 코드 못지 않게 중요하다.